@if (!href() && !routerLink()) {
  <ng-container *ngTemplateOutlet="textElement"/>
} @else if (!!routerLink()) {
  <a
    class="link"
    [target]="target()"
    [routerLink]="routerLink()"
    [rel]="target() === '_blank' ? (rel() || 'noopener noreferrer') : rel()"
  >
    <ng-container *ngTemplateOutlet="textElement"/>
  </a>
} @else {
  <a
    class="link"
    [target]="target()"
    [rel]="target() === '_blank' ? (rel() || 'noopener noreferrer') : rel()"
    [href]="href()"
  >
    <ng-container *ngTemplateOutlet="textElement"/>
  </a>
}

<ng-template #textElement>
  @switch (type()) {
    @case ('title') {
      <h1
        class="fin-text fin-text-title"
        [style.color]="textColor()"
        [style.background-color]="backgroundColor()"
        [style.padding]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px 8px' : '0'"
        [style.border-radius]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px' : '0'"
      >
        <ng-container *ngTemplateOutlet="textContent"/>
      </h1>
    }
    @case ('subtitle') {
      <h2
        class="fin-text fin-text-subtitle"
        [style.color]="textColor()"
        [style.background-color]="backgroundColor()"
        [style.padding]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px 8px' : '0'"
        [style.border-radius]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px' : '0'"
      >
        <ng-container *ngTemplateOutlet="textContent"/>
      </h2>
    }
    @case ('paragraph') {
      <p
        class="fin-text fin-text-paragraph"
        [style.color]="textColor()"
        [style.background-color]="backgroundColor()"
        [style.padding]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px 8px' : '0'"
        [style.border-radius]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px' : '0'"
      >
        <ng-container *ngTemplateOutlet="textContent"/>
      </p>
    }
    @case ('info') {
      <small
        class="fin-text fin-text-info"
        [style.color]="textColor()"
        [style.background-color]="backgroundColor()"
        [style.padding]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px 8px' : '0'"
        [style.border-radius]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px' : '0'"
        [style.display]="backgroundColor() && backgroundColor() !== 'transparent' ? 'inline-block' : 'inline'"
      >
        <ng-container *ngTemplateOutlet="textContent"/>
      </small>
    }
    @case ('label') {
      <label
        class="fin-text fin-text-label"
        [for]="for()"
        [style.color]="textColor()"
        [style.background-color]="backgroundColor()"
        [style.padding]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px 8px' : '0'"
        [style.border-radius]="backgroundColor() && backgroundColor() !== 'transparent' ? '4px' : '0'"
        [style.display]="backgroundColor() && backgroundColor() !== 'transparent' ? 'inline-block' : 'inline'"
      >
        <ng-container *ngTemplateOutlet="textContent"/>
      </label>
    }
  }


  <ng-template #textContent>
    @if (!!text()) {
      {{ text() | finTranslate }}

    } @else {
      <ng-content/>
    }
  </ng-template>
</ng-template>
